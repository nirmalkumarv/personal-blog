---
date: '2019-01-15'
title: 'Docker Commands'
template: post
thumbnail: '../thumbnails/vue.png'
slug: docker-commands
categories:
  - JavaScript
  - Popular
tags:
  - javascript
  - vue
  - library
---


You can't create a Ingress without a NodePort

NodePort has a limitation of 30000 to 32767 . Better to handover to Kubernetes



When an existing Dashboard service already exists, remove it.

```
kubectl delete service kubernetes-dashboard -n kube-system
```

Expose the Dashboard deployment as a NodePort.

```
kubectl expose deployment kubernetes-dashboard -n kube-system --type=NodePort
```

The above will assign a random port >= 30000. So use the Patch command to assign the port to a known, unused and desired port >= 30000.

```
kubectl patch service kubernetes-dashboard --namespace=kube-system --type='json' --patch='[{"op": "replace", "path": "/spec/ports/0/nodePort", "value":30000}]'
```



Forward a Remote Port to Local



- kubectl port-forward deployment.apps/spekt8 3000:3000

```
kubectl expose deployment nginx --type NodePort
```

https://github.com/kelseyhightower/ingress-with-static-ip



Weave Scope :

https://www.weave.works/docs/scope/latest/installing/#k8s

```
kubectl create clusterrolebinding "cluster-admin-$(whoami)" --clusterrole=cluster-admin --user="$(gcloud config get-value core/account)"
```

```
kubectl apply -f "https://cloud.weave.works/k8s/scope.yaml?k8s-version=$(kubectl version | base64 | tr -d '\n')"
```

```
kubectl port-forward -n weave "$(kubectl get -n weave pod --selector=weave-scope-component=app -o jsonpath='{.items..metadata.name}')" 4040
```